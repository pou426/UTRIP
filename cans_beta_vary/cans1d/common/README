

CANS1D common モジュール

       ver.0.2  2002.3.1

----------------------------------------------------------------------

◯概要

このモジュールは、計算で使うさまざまな共通ルーチンを集めたものです。

----------------------------------------------------------------------

◯インストール

1. Makefileを編集。マクロ"CANS_LIB_DIR"の値を適当に設定する。
2. makeによりコンパイル。

----------------------------------------------------------------------

◯各サブルーチンと引数の説明。

cfl_h(dt,merr,gm,ro,pr,vx,dx,ix)
cfl_ht(dt,merr,cs2,vx,dx,ix)
cfl_m(dt,merr,gm,bx,ro,pr,vx,vy,by,dx,ix)
cfl_m3(dt,merr,gm,bx,ro,pr,vx,vy,by,vz,bz,dx,ix)
cfl_mt(dt,merr,cs2,bx,ro,pr,vx,vy,by,dx,ix)
cfl_m3t(dt,merr,cs2,bx,ro,pr,vx,vy,by,vz,bz,dx,ix)
  目的
    CFL条件に基づいて、時間刻みを求める
  出力
    dt 時間刻み
    merr エラーコード
       dt>dtminの条件を満たさなかったときにmerr=1になる。通常は0。
  入力
    gm 比熱比γ
    cs2 音速**2
    ro(ix) pr(ix) vx(ix) vy(ix) vz(ix) bx(ix) by(ix) bz(ix) 物理量データ
    dx(ix) グリッド間隔（グリッド上で定義）
  内部パラメータ
    dtmin  dtの最小臨界値。これより小さいとエラー(merr=1)。
    safety CFL条件の安全係数(0<safety<1)。
-------------------------------------------

grdrdy(dx,xm,dxm,x,ix)
  目的
    グリッドに関係するさまざまな量を計算する
  出力
    xm(ix) グリッド座標（グリッド中間点で定義）
    dx(ix) グリッド刻み（グリッド点上で定義）
    dxm(ix) グリッド刻み（グリッド点間で定義）
  入力
    x(ix) グリッド座標
    ix    データの大きさ

-------------------------------------------
scrdy(dsc,dscm,sc,scm,dx,dxm,ix)
  目的
    非一様断面計算をするときの準備
  出力
    dsc(ix)   微分断面積（グリッド点上で定義）
    dscm(ix)  微分断面積（グリッド点間で定義）
  入力
    sc(ix)   断面積（グリッド点上で定義）
    scm(ix)  断面積（グリッド点間で定義）
    dx(ix) グリッド刻み（グリッド点上で定義）
    dxm(ix) グリッド刻み（グリッド点間で定義）
    ix    データの大きさ

-------------------------------------------
    
prtote(te,ro,pr,gm,ix)
tetopr(ro,pr,te,gm,ix)
  目的
    「温度<-->圧力・密度」 変換
  入出力
    ro(ix) pr(ix) te(ix) 物理量データ
  入力
    gm 比熱比γ
    ix    データの大きさ

-------------------------------------------
chkdav(n_events,da,vx,floor,ix)
chkda(n_events,da,floor,ix)
  目的
    負値になってはならない物理量（pr ro teなど）をチェックする。
  入出力
    da(ix) vx(ix) 物理量データ
  入力
    floor 物理量の最小臨界値

-------------------------------------------
damp(da,xdamp,wdamp,damp0,x,ix)
  目的
    境界反射を抑えるための物理量の減衰
  入出力
    da(ix) 物理量データ
  入力
    x(ix) 座標
    ix    データの大きさ

  内部パラメータ
    damp0 減衰の強さ
    xdamp 減衰をかける座標
    wdamp 減衰をかける空間幅

----------------------------------------------------------------------
