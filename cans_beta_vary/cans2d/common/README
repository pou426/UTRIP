

CANS1D common モジュール

       ver.0  2001.9.7

----------------------------------------------------------------------

◯概要

このモジュールは、計算で使うさまざまな共通ルーチンを集めたものです。

----------------------------------------------------------------------

◯インストール

1. Makefileを編集。マクロ"CANS_INCLUDE_DIR"の値を適当に設定する。
2. makeによりコンパイル。
3. libcommon.aができるのでこれを適当なディレクトリにコピーする。

----------------------------------------------------------------------

◯各サブルーチンと引数の説明。

cflhd(dt,merr,gm,ro,pr,vx,dx,ix)
cflmhd(dt,merr,gm,ro,pr,vx,vy,bx,by,dx,ix)
  目的
    CFL条件に基づいて、時間刻みを求める
  出力
    dt 時間刻み
    merr エラーコード
       dt>dtminの条件を満たさなかったときにmerr=1になる。通常は0。
  入力
    gm 比熱比γ
    ro(ix) pr(ix) vx(ix) vy(ix) bx(ix) by(ix) 物理量データ
    dx(ix) グリッド間隔
  内部パラメータ
    dtmin  dtの最小臨界値。これより小さいとエラー(merr=1)。
    safety CFL条件の安全係数(0<safety<1)。
-------------------------------------------

scrdy(dsc,dsch,sc,sch,dx,dxm,ix)
  目的
    非一様断面計算をするときの準備
  出力
    dsc(ix)   微分断面積（グリッド点上で定義）
    dsch(ix)  微分断面積（グリッド点間で定義）
  入力
    sc(ix)   断面積（グリッド点上で定義）
    sch(ix)  断面積（グリッド点間で定義）
    dx(ix) グリッド刻み（グリッド点間で定義）
    dxm(ix) グリッド刻み（グリッド点上で定義）
    ix    データの大きさ

-------------------------------------------
    
prtote(te,ro,pr,gm,ix)
tetopr(ro,pr,te,gm,ix)
  目的
    「温度<-->圧力・密度」 変換
  入出力
    ro(ix) pr(ix) te(ix) 物理量データ
  入力
    gm 比熱比γ
    ix    データの大きさ

-------------------------------------------
check(ro,pr,vx,ns,time,ix)
chkte(te,ix)
  目的
    負値になってはならない物理量（pr ro te）をチェックする。
  入出力
    ro(ix) pr(ix) te(ix) 物理量データ
  入力
  内部パラメータ
    rofloor 密度の最小臨界値
    prfloor 圧力の最小臨界値
    tefloor 温度の最小臨界値

-------------------------------------------
dump(da,x,ix)
  目的
    境界反射を抑えるための物理量の減衰
  入出力
    da(ix) 物理量データ
  入力
    x(ix) 座標
    ix    データの大きさ

  内部パラメータ
    dump0 減衰の強さ
    xdump 減衰をかける座標
    wdump 減衰をかける空間幅

----------------------------------------------------------------------
